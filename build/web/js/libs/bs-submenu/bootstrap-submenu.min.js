
"use strict";(function(a){if(typeof define=="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports=="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}})(function(d){function b(e){this.$element=d(e);this.$menu=this.$element.closest(".dropdown-menu");this.$main=this.$menu.parent();this.$items=this.$menu.children(".dropdown-submenu");this.init()}b.prototype={init:function(){this.$element.on("keydown",d.proxy(this,"keydown"))},close:function(){this.$main.removeClass("open");this.$items.trigger("hide.bs.submenu")},keydown:function(e){if(e.keyCode==27){e.stopPropagation();this.close();this.$main.children("a, button").trigger("focus")}}};function a(e){this.$element=d(e);this.$main=this.$element.parent();this.$menu=this.$main.children(".dropdown-menu");this.$subs=this.$main.siblings(".dropdown-submenu");this.$items=this.$menu.children(".dropdown-submenu");this.init()}d.extend(a.prototype,b.prototype,{init:function(){this.$element.on({click:d.proxy(this,"click"),keydown:d.proxy(this,"keydown")});this.$main.on("hide.bs.submenu",d.proxy(this,"hide"))},click:function(e){e.stopPropagation();this.toggle()},hide:function(e){e.stopPropagation();this.close()},open:function(){this.$main.addClass("open");this.$subs.trigger("hide.bs.submenu")},toggle:function(){if(this.$main.hasClass("open")){this.close()}else{this.open()}},keydown:function(e){if(e.keyCode==32){e.preventDefault()}if(d.inArray(e.keyCode,[13,32])!=-1){this.toggle()}}});function c(e){this.$element=d(e);this.$main=this.$element.parent();this.$menu=this.$main.children(".dropdown-menu");this.$items=this.$menu.children(".dropdown-submenu");this.init()}c.prototype={init:function(){this.$menu.off("keydown.bs.dropdown.data-api");this.$menu.on("keydown",d.proxy(this,"itemKeydown"));this.$menu.find("li > a").each(function(){new b(this)});this.$menu.find(".dropdown-submenu > a").each(function(){new a(this)});this.$main.on("hidden.bs.dropdown",d.proxy(this,"hidden"))},hidden:function(){this.$items.trigger("hide.bs.submenu")},itemKeydown:function(f){if(d.inArray(f.keyCode,[38,40])!=-1){f.preventDefault();f.stopPropagation();var g=this.$menu.find("li:not(.disabled):visible > a");var e=g.index(f.target);if(f.keyCode==38&&e!==0){e--}else{if(f.keyCode==40&&e!==g.length-1){e++}else{return}}g.eq(e).trigger("focus")}}};return d.fn.submenupicker=function(f){var e=this instanceof d?this:d(f);return e.each(function(){var g=d.data(this,"bs.submenu");if(!g){g=new c(this);d.data(this,"bs.submenu",g)}})}});