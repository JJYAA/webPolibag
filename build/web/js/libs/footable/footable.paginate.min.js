
(function(c,a,f){if(a.footable===f||a.footable===null){throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.")}var d={paginate:true,pageSize:10,pageNavigation:".pagination",firstText:"&laquo;",previousText:"&lsaquo;",nextText:"&rsaquo;",lastText:"&raquo;",limitNavigation:0,limitPreviousText:"...",limitNextText:"..."};function b(i){var g=c(i.table),h=g.data();this.pageNavigation=h.pageNavigation||i.options.pageNavigation;this.pageSize=h.pageSize||i.options.pageSize;this.firstText=h.firstText||i.options.firstText;this.previousText=h.previousText||i.options.previousText;this.nextText=h.nextText||i.options.nextText;this.lastText=h.lastText||i.options.lastText;this.limitNavigation=parseInt(h.limitNavigation||i.options.limitNavigation||d.limitNavigation,10);this.limitPreviousText=h.limitPreviousText||i.options.limitPreviousText;this.limitNextText=h.limitNextText||i.options.limitNextText;this.limit=this.limitNavigation>0;this.currentPage=h.currentPage||0;this.pages=[];this.control=false}function e(){var g=this;g.name="Footable Paginate";g.init=function(h){if(h.options.paginate===true){if(c(h.table).data("page")===false){return}g.footable=h;c(h.table).unbind(".paging").bind({"footable_initialized.paging footable_row_removed.paging footable_redrawn.paging footable_sorted.paging footable_filtered.paging":function(){g.setupPaging()}}).data("footable-paging",g)}};g.setupPaging=function(){var i=g.footable,h=c(i.table).find("> tbody");i.pageInfo=new b(i);g.createPages(i,h);g.createNavigation(i,h);g.fillPage(i,h,i.pageInfo.currentPage)};g.createPages=function(o,j){var h=1;var n=o.pageInfo;var i=h*n.pageSize;var m=[];var l=[];n.pages=[];var k=j.find("> tr:not(.footable-filtered,.footable-row-detail)");k.each(function(p,q){m.push(q);if(p===i-1){n.pages.push(m);h++;i=h*n.pageSize;m=[]}else{if(p>=k.length-(k.length%n.pageSize)){l.push(q)}}});if(l.length>0){n.pages.push(l)}if(n.currentPage>=n.pages.length){n.currentPage=n.pages.length-1}if(n.currentPage<0){n.currentPage=0}if(n.pages.length===1){c(o.table).addClass("no-paging")}else{c(o.table).removeClass("no-paging")}};g.createNavigation=function(k,i){var h=c(k.table).find(k.pageInfo.pageNavigation);if(h.length===0){h=c(k.pageInfo.pageNavigation);if(h.parents("table:first").length>0&&h.parents("table:first")!==c(k.table)){return}if(h.length>1&&k.options.debug===true){console.error("More than one pagination control was found!")}}if(h.length===0){return}if(!h.is("ul")){if(h.find("ul:first").length===0){h.append("<ul />")}h=h.find("ul")}h.find("li").remove();var j=k.pageInfo;j.control=h;if(j.pages.length>0){h.append('<li class="footable-page-arrow"><a data-page="first" href="#first">'+k.pageInfo.firstText+"</a>");h.append('<li class="footable-page-arrow"><a data-page="prev" href="#prev">'+k.pageInfo.previousText+"</a></li>");if(j.limit){h.append('<li class="footable-page-arrow"><a data-page="limit-prev" href="#limit-prev">'+k.pageInfo.limitPreviousText+"</a></li>")}if(!j.limit){c.each(j.pages,function(l,m){if(m.length>0){h.append('<li class="footable-page"><a data-page="'+l+'" href="#">'+(l+1)+"</a></li>")}})}if(j.limit){h.append('<li class="footable-page-arrow"><a data-page="limit-next" href="#limit-next">'+k.pageInfo.limitNextText+"</a></li>");g.createLimited(h,j,0)}h.append('<li class="footable-page-arrow"><a data-page="next" href="#next">'+k.pageInfo.nextText+"</a></li>");h.append('<li class="footable-page-arrow"><a data-page="last" href="#last">'+k.pageInfo.lastText+"</a></li>")}h.off("click","a[data-page]").on("click","a[data-page]",function(o){o.preventDefault();var n=c(this).data("page");var l=j.currentPage;if(n==="first"){l=0}else{if(n==="prev"){if(l>0){l--}}else{if(n==="next"){if(l<j.pages.length-1){l++}}else{if(n==="last"){l=j.pages.length-1}else{if(n==="limit-prev"){l=-1;var p=h.find(".footable-page:first a").data("page");g.createLimited(h,j,p-j.limitNavigation);g.setPagingClasses(h,j.currentPage,j.pages.length)}else{if(n==="limit-next"){l=-1;var m=h.find(".footable-page:last a").data("page");g.createLimited(h,j,m+1);g.setPagingClasses(h,j.currentPage,j.pages.length)}else{l=n}}}}}}if(l>=0){if(j.limit&&j.currentPage!=l){var q=l;while(q%j.limitNavigation!==0){q-=1}g.createLimited(h,j,q)}g.paginate(k,l)}});g.setPagingClasses(h,j.currentPage,j.pages.length)};g.createLimited=function(n,m,o){o=o||0;n.find("li.footable-page").remove();var k,l,j=n.find('li.footable-page-arrow > a[data-page="limit-prev"]').parent(),h=n.find('li.footable-page-arrow > a[data-page="limit-next"]').parent();for(k=m.pages.length-1;k>=0;k--){l=m.pages[k];if(k>=o&&k<o+m.limitNavigation&&l.length>0){j.after('<li class="footable-page"><a data-page="'+k+'" href="#">'+(k+1)+"</a></li>")}}if(o===0){j.hide()}else{j.show()}if(o+m.limitNavigation>=m.pages.length){h.hide()}else{h.show()}};g.paginate=function(l,i){var k=l.pageInfo;if(k.currentPage!==i){var h=c(l.table).find("> tbody");var j=l.raise("footable_paging",{page:i,size:k.pageSize});if(j&&j.result===false){return}g.fillPage(l,h,i);k.control.find("li").removeClass("active disabled");g.setPagingClasses(k.control,k.currentPage,k.pages.length)}};g.setPagingClasses=function(j,i,h){j.find("li.footable-page > a[data-page="+i+"]").parent().addClass("active");if(i>=h-1){j.find('li.footable-page-arrow > a[data-page="next"]').parent().addClass("disabled");j.find('li.footable-page-arrow > a[data-page="last"]').parent().addClass("disabled")}if(i<1){j.find('li.footable-page-arrow > a[data-page="first"]').parent().addClass("disabled");j.find('li.footable-page-arrow > a[data-page="prev"]').parent().addClass("disabled")}};g.fillPage=function(j,i,h){j.pageInfo.currentPage=h;c(j.table).data("currentPage",h);i.find("> tr").hide();c(j.pageInfo.pages[h]).each(function(){g.showRow(this,j)})};g.showRow=function(k,l){var h=c(k),i=h.next(),j=c(l.table);if(j.hasClass("breakpoint")&&h.hasClass("footable-detail-show")&&i.hasClass("footable-row-detail")){h.add(i).show();l.createOrUpdateDetailRow(k)}else{h.show()}}}a.footable.plugins.register(e,d)})(jQuery,window);