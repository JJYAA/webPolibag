
(function(c,a,e){if(a.footable===e||a.footable===null){throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.")}var d={filter:{enabled:true,input:".footable-filter",timeout:300,minimum:2,disableEnter:false,filterFunction:function(g){var j=c(this),f=j.parents("table:first"),h=f.data("current-filter").toUpperCase(),i=j.find("td").text();if(!f.data("filter-text-only")){j.find("td[data-value]").each(function(){i+=c(this).data("value")})}return i.toUpperCase().indexOf(h)>=0}}};function b(){var f=this;f.name="Footable Filter";f.init=function(g){f.footable=g;if(g.options.filter.enabled===true){if(c(g.table).data("filter")===false){return}g.timers.register("filter");c(g.table).unbind(".filtering").bind({"footable_initialized.filtering":function(j){var h=c(g.table);var i={input:h.data("filter")||g.options.filter.input,timeout:h.data("filter-timeout")||g.options.filter.timeout,minimum:h.data("filter-minimum")||g.options.filter.minimum,disableEnter:h.data("filter-disable-enter")||g.options.filter.disableEnter};if(i.disableEnter){c(i.input).keypress(function(k){if(window.event){return(window.event.keyCode!==13)}else{return(k.which!==13)}})}h.bind("footable_clear_filter",function(){c(i.input).val("");f.clearFilter()});h.bind("footable_filter",function(l,k){f.filter(k.filter)});c(i.input).keyup(function(k){g.timers.filter.stop();if(k.which===27){c(i.input).val("")}g.timers.filter.start(function(){var l=c(i.input).val()||"";f.filter(l)},i.timeout)})},"footable_redrawn.filtering":function(j){var h=c(g.table),i=h.data("filter-string");if(i){f.filter(i)}}}).data("footable-filter",f)}};f.filter=function(m){var n=f.footable,h=c(n.table),l=h.data("filter-minimum")||n.options.filter.minimum,g=!m;var j=n.raise("footable_filtering",{filter:m,clear:g});if(j&&j.result===false){return}if(j.filter&&j.filter.length<l){return}if(j.clear){f.clearFilter()}else{var i=j.filter.split(" ");h.find("> tbody > tr").hide().addClass("footable-filtered");var k=h.find("> tbody > tr:not(.footable-row-detail)");c.each(i,function(o,p){if(p&&p.length>0){h.data("current-filter",p);k=k.filter(n.options.filter.filterFunction)}});k.each(function(){f.showRow(this,n);c(this).removeClass("footable-filtered")});h.data("filter-string",j.filter);n.raise("footable_filtered",{filter:j.filter,clear:false})}};f.clearFilter=function(){var h=f.footable,g=c(h.table);g.find("> tbody > tr:not(.footable-row-detail)").removeClass("footable-filtered").each(function(){f.showRow(this,h)});g.removeData("filter-string");h.raise("footable_filtered",{clear:true})};f.showRow=function(j,k){var g=c(j),h=g.next(),i=c(k.table);if(g.is(":visible")){return}if(i.hasClass("breakpoint")&&g.hasClass("footable-detail-show")&&h.hasClass("footable-row-detail")){g.add(h).show();k.createOrUpdateDetailRow(j)}else{g.show()}}}a.footable.plugins.register(b,d)})(jQuery,window);